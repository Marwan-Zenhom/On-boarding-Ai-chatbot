{"ast":null,"code":"import React from'react';import{User,Bot,Check,X,FileText}from'lucide-react';import{MessageActions}from'./UtilityComponents';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Message=/*#__PURE__*/React.memo(_ref=>{let{msg,editingMessageId,editingText,setEditingText,saveMessageEdit,setEditingMessageId,displayedContent,typingMessageId,copyToClipboard,handleMessageEdit,handleMessageReaction,regenerateResponse}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"message \".concat(msg.role),children:[/*#__PURE__*/_jsx(\"div\",{className:\"message-avatar\",children:msg.role==='user'?/*#__PURE__*/_jsx(\"div\",{className:\"avatar user-avatar-chat\",children:/*#__PURE__*/_jsx(User,{className:\"icon\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"avatar assistant-avatar\",children:/*#__PURE__*/_jsx(Bot,{className:\"icon\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"message-content\",children:editingMessageId===msg.id?/*#__PURE__*/_jsxs(\"div\",{className:\"edit-container\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:editingText,onChange:e=>setEditingText(e.target.value),className:\"edit-textarea\",autoFocus:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:saveMessageEdit,className:\"edit-save\",children:[/*#__PURE__*/_jsx(Check,{className:\"icon-sm\"}),\" Save\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setEditingMessageId(null),className:\"edit-cancel\",children:[/*#__PURE__*/_jsx(X,{className:\"icon-sm\"}),\" Cancel\"]})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"message-text\",children:[msg.role==='assistant'&&displayedContent[msg.id]!==undefined?displayedContent[msg.id]:msg.content,typingMessageId===msg.id&&/*#__PURE__*/_jsx(\"span\",{className:\"typing-cursor\",children:\"|\"}),msg.isEdited&&/*#__PURE__*/_jsx(\"span\",{className:\"edited-indicator\",children:\"(edited)\"}),msg.reaction&&/*#__PURE__*/_jsx(\"span\",{className:\"reaction \".concat(msg.reaction),children:msg.reaction==='like'?'ðŸ‘':'ðŸ‘Ž'})]}),msg.files&&/*#__PURE__*/_jsx(\"div\",{className:\"message-files\",children:msg.files.map(file=>/*#__PURE__*/_jsxs(\"div\",{className:\"file-attachment\",children:[/*#__PURE__*/_jsx(FileText,{className:\"icon-sm\"}),/*#__PURE__*/_jsx(\"span\",{children:file.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"file-size\",children:[\"(\",(file.size/1024).toFixed(1),\" KB)\"]})]},file.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"message-meta\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"message-time\",children:new Date(msg.timestamp).toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'})}),/*#__PURE__*/_jsx(MessageActions,{message:msg,onCopy:copyToClipboard,onEdit:handleMessageEdit,onReact:handleMessageReaction,onRegenerate:regenerateResponse})]})]})})]});});Message.displayName='Message';export default Message;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}