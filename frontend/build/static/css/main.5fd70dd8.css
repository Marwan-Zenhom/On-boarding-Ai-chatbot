:root{--bg-primary:#212121;--bg-secondary:#2f2f2f;--bg-tertiary:#424242;--text-primary:#ececec;--text-secondary:#c5c5d2;--text-muted:#8e8ea0;--border-color:#4d4d4f;--hover-color:#2f2f2f;--accent-color:#19c37d;--accent-hover:#15a771;--input-bg:#40414f;--shadow:0 0 15px #0000001a;--suggestion-bg:#2f2f2f;--suggestion-border:#4d4d4f}[data-theme=light]{--bg-primary:#fff;--bg-secondary:#f7f7f8;--bg-tertiary:#f1f1f1;--text-primary:#2d333a;--text-secondary:#565869;--text-muted:#8e8ea0;--border-color:#d1d5db;--hover-color:#f1f1f1;--accent-color:#10a37f;--accent-hover:#0d8a6b;--input-bg:#fff;--shadow:0 0 15px #0000001a;--suggestion-bg:#fff;--suggestion-border:#d1d5db}[data-theme=dark]{--send-button-hover:#f0f0f0}[data-theme=light]{--send-button-hover:#1a1a1a}*{box-sizing:border-box;margin:0;padding:0}body{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:SÃ¶hne,"ui-sans-serif","system-ui",-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;height:100vh;overflow:hidden}.send-button .icon{stroke-width:2.5;height:16px;width:16px}.icon{height:20px;width:20px}.icon,.icon-sm{stroke:currentColor;stroke-width:2;fill:none}.icon-sm{height:16px;width:16px}.chat-container::-webkit-scrollbar,.conversation-list::-webkit-scrollbar{width:8px}.chat-container::-webkit-scrollbar-thumb,.conversation-list::-webkit-scrollbar-thumb{border-radius:4px}.chat-container::-webkit-scrollbar,.conversation-list::-webkit-scrollbar{width:6px}.chat-container::-webkit-scrollbar-track,.conversation-list::-webkit-scrollbar-track{background:#0000}.chat-container::-webkit-scrollbar-thumb,.conversation-list::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.chat-container::-webkit-scrollbar-thumb:hover,.conversation-list::-webkit-scrollbar-thumb:hover{background:var(--text-muted)}.message-text{word-wrap:break-word;-webkit-hyphens:auto;hyphens:auto}.message-text h1,.message-text h2,.message-text h3{line-height:1.3;margin:16px 0 8px}.message-text p{margin:8px 0}.message-text ol,.message-text ul{margin:8px 0;padding-left:24px}.message-text code{background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:4px;font-family:Monaco,Menlo,Ubuntu Mono,monospace;font-size:.9em;padding:2px 6px}.message-text pre{background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:8px;margin:12px 0;overflow-x:auto;padding:16px}.message-text blockquote{border-left:4px solid var(--accent-color);color:var(--text-secondary);font-style:italic;margin:12px 0;padding-left:16px}.animate-spin{animation:spin 1s linear infinite}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}*{transition:background-color .2s ease,color .2s ease,border-color .2s ease}.keyboard-navigation :focus{outline:2px solid var(--accent-color);outline-offset:2px}.loading{opacity:.7;pointer-events:none}.loading *{cursor:wait!important}.error{background-color:#ef44441a;border-color:#ef4444!important}.success{background-color:#19c37d1a;border-color:var(--accent-color)!important}.chat-messages,.conversation-list,.focus-search,.message,.message-files,.quick-templates,.uploaded-files{contain:layout style paint}@media (prefers-contrast:high){:root{--border-color:#fff;--text-muted:#ccc}[data-theme=light]{--border-color:#000;--text-muted:#333}}@media (prefers-reduced-motion:reduce){*{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}.app-container{color:var(--text-primary);height:100vh;transition:all .2s ease}.app-container,.main-content{background-color:var(--bg-primary);display:flex}.main-content{flex:1 1;flex-direction:column;margin-left:260px;transition:margin-left .3s ease}.main-content.sidebar-hidden{margin-left:0}.chat-header{align-items:center;background-color:var(--bg-primary);border-bottom:1px solid var(--border-color);display:flex;gap:16px;padding:16px 24px}.sidebar-toggle{background:none;border:none;border-radius:6px;color:var(--text-secondary);cursor:pointer;padding:8px;transition:all .2s ease}.sidebar-toggle:hover{background:var(--hover-color);color:var(--text-primary)}.chat-title{color:var(--text-primary);flex:1 1;font-size:18px;font-weight:600}.chat-container{flex:1 1;overflow-y:auto;padding:0;position:relative}.chat-messages{margin:0 auto;max-width:800px;padding:24px}.header-actions{display:flex;gap:8px}.header-btn{background:none;border:none;border-radius:6px;color:var(--text-secondary);cursor:pointer;padding:8px;transition:all .2s ease}.header-btn:hover{background:var(--hover-color);color:var(--text-primary)}.welcome-screen{margin:0 auto;max-width:800px;padding:120px 24px 24px;text-align:center}.welcome-icon{color:var(--accent-color);margin-bottom:24px}.welcome-title{color:var(--text-primary);font-size:32px;font-weight:600;letter-spacing:-.02em;margin-bottom:16px}.welcome-subtitle{color:var(--text-muted);font-size:16px;line-height:1.5;margin-bottom:32px}.suggestion-cards{grid-gap:12px;display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));margin:0 auto;max-width:600px}.suggestion-card{background:var(--suggestion-bg);border:1px solid var(--suggestion-border);border-radius:12px;color:var(--text-secondary);cursor:pointer;font-size:14px;padding:16px;text-align:left;transition:all .2s ease}.suggestion-card:hover{background:var(--hover-color);border-color:var(--accent-color);transform:translateY(-2px)}.sidebar{background-color:var(--bg-secondary);border-right:1px solid var(--border-color);display:flex;flex-direction:column;height:100vh;left:0;overflow:hidden;position:fixed;top:0;transform:translateX(0);transition:all .3s ease;width:260px;z-index:1000}.sidebar.collapsed{width:60px}.sidebar.hidden{border-right:none;transform:translateX(-100%)}.sidebar-header{border-bottom:1px solid var(--border-color);padding:14px}.new-chat-btn{align-items:center;background:#0000;border:1px solid var(--border-color);border-radius:8px;color:var(--text-primary);cursor:pointer;display:flex;font-size:14px;font-weight:500;gap:8px;justify-content:flex-start;padding:10px 12px;transition:all .2s ease;width:100%}.sidebar.collapsed .new-chat-btn{justify-content:center;padding:12px}.new-chat-btn:hover{background:var(--hover-color)}.conversation-list{flex:1 1;overflow-y:auto;padding:8px}.conversation-group{margin-bottom:16px}.group-label{color:var(--text-muted);font-size:12px;font-weight:600;letter-spacing:.5px;margin-bottom:4px;padding:0 16px 8px;text-transform:uppercase}.archive-section{border-top:1px solid var(--border-color);margin-top:16px;padding-top:16px}.archive-toggle{align-items:center;background:#0000;border:none;border-radius:8px;color:var(--text-secondary);cursor:pointer;display:flex;font-size:14px;font-weight:500;gap:8px;justify-content:flex-start;padding:8px 16px;transition:background-color .2s ease;width:100%}.archive-toggle:hover{background-color:var(--hover-color)}.archive-toggle .chevron{margin-left:auto;transition:transform .2s ease}.archive-toggle .chevron.expanded{transform:rotate(90deg)}.archived-conversations{margin-top:4px}.conversation-item{group:true;align-items:center;border-radius:8px;color:var(--text-secondary);cursor:pointer;display:flex;font-size:14px;gap:12px;margin-bottom:2px;padding:12px 16px;position:relative;transition:background-color .2s ease}.conversation-item:hover{background-color:var(--hover-color)}.conversation-item:hover .conversation-actions{opacity:1}.conversation-item.active{background-color:var(--bg-tertiary);color:var(--text-primary)}.conversation-text{flex:1 1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.conversation-actions{display:flex;gap:4px;opacity:0;position:relative;transition:opacity .2s ease}.action-btn{background:none;border:none;border-radius:4px;color:var(--text-muted);cursor:pointer;padding:4px;transition:all .2s ease}.action-btn:hover{background:var(--hover-color);color:var(--text-secondary)}.dropdown-toggle{align-items:center;background:none;border:none;border-radius:4px;color:var(--text-muted);cursor:pointer;display:flex;justify-content:center;padding:6px;transition:all .2s ease}.dropdown-toggle:hover{background:var(--hover-color);color:var(--text-primary)}.conversation-dropdown{animation:dropdown-fade-in .15s ease-out;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;box-shadow:0 4px 12px #00000026;min-width:140px;overflow:hidden;position:absolute;right:0;top:100%;z-index:1000}.dropdown-item{align-items:center;background:none;border:none;color:var(--text-primary);cursor:pointer;display:flex;font-size:14px;gap:8px;padding:10px 12px;text-align:left;transition:background-color .2s ease;width:100%}.dropdown-item:hover{background:var(--hover-color)}.dropdown-item.danger{color:#ef4444}.dropdown-item.danger:hover{background:#ef44441a}.rename-input-container{flex:1 1;margin-right:8px}.rename-input{background:var(--input-bg);border:1px solid var(--accent-color);border-radius:4px;color:var(--text-primary);font-size:14px;outline:none;padding:4px 8px;width:100%}.rename-input:focus{border-color:var(--accent-color);box-shadow:0 0 0 1px var(--accent-color)}.sidebar-footer{border-top:1px solid var(--border-color);display:flex;flex-direction:column;gap:8px;padding:14px}.theme-toggle{align-items:center;background:none;border:none;border-radius:8px;color:var(--text-secondary);cursor:pointer;display:flex;font-size:14px;gap:12px;justify-content:flex-start;padding:8px 12px;transition:background-color .2s ease;width:100%}.sidebar.collapsed .theme-toggle{justify-content:center}.theme-toggle:hover{background-color:var(--hover-color)}.user-info{color:var(--text-secondary);cursor:pointer;font-size:14px}.user-avatar{align-items:center;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:50%;color:#fff;display:flex;font-size:14px;font-weight:600;height:32px;justify-content:center;width:32px}.search-container{padding:8px 14px}.search-wrapper{align-items:center;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:8px;display:flex;gap:8px;padding:8px 12px;position:relative;transition:all .2s ease}.search-wrapper.focused{border-color:var(--accent-color);box-shadow:0 0 0 2px #19c37d33}.search-icon{color:var(--text-muted);flex-shrink:0;height:16px;width:16px}.search-input{background:#0000;border:none;color:var(--text-primary);font-family:inherit;font-size:14px;outline:none;width:100%}.search-input::placeholder{color:var(--text-muted)}.conversation-filters{display:flex;gap:4px;margin-bottom:8px;padding:8px 14px}.filter-btn{background:none;border:none;border-radius:20px;color:var(--text-muted);cursor:pointer;font-size:14px;font-weight:500;padding:8px 16px;transition:all .2s ease;white-space:nowrap}.filter-btn:hover{background:var(--hover-color);color:var(--text-secondary)}.filter-btn.active{background:var(--accent-color);color:#fff}.filter-btn.active:hover{background:var(--accent-hover)}.filter-container{padding:8px 14px}.filter-select{background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:8px;color:var(--text-primary);cursor:pointer;font-size:14px;padding:8px 12px;transition:all .2s ease;width:100%}.filter-select:focus{border-color:var(--accent-color);box-shadow:0 0 0 2px #19c37d33;outline:none}.conversation-item.favourite{border-left:3px solid var(--accent-color)}.favourite-icon{color:var(--accent-color);flex-shrink:0;height:14px;width:14px}.archive-toggle-btn{align-items:center;background:none;border:none;border-radius:8px;color:var(--text-secondary);cursor:pointer;display:flex;font-size:14px;gap:12px;justify-content:flex-start;padding:8px 12px;transition:background-color .2s ease;width:100%}.sidebar.collapsed .archive-toggle-btn{justify-content:center}.archive-toggle-btn:hover{background-color:var(--hover-color)}.user-section{border-top:1px solid var(--border-color);padding:14px}.user-info{align-items:center;border-radius:8px;display:flex;gap:12px;padding:8px 12px;transition:background-color .2s ease}.user-info:hover{background-color:var(--hover-color)}.user-details{display:flex;flex:1 1;flex-direction:column;gap:2px}.user-name{color:var(--text-primary);font-size:14px;font-weight:500}.user-plan{font-size:12px;text-transform:capitalize}.logout-btn,.user-plan{color:var(--text-muted)}.logout-btn{background:none;border:none;border-radius:4px;cursor:pointer;padding:4px;transition:all .2s ease}.logout-btn:hover{background:var(--hover-color);color:var(--text-primary)}.signin-btn{align-items:center;background:var(--accent-color);border:none;border-radius:8px;color:#fff;cursor:pointer;display:flex;font-size:14px;font-weight:500;gap:12px;padding:12px 16px;transition:all .2s ease;width:100%}.signin-btn:hover{background:var(--accent-hover)}.conversation-item.archived{background-color:var(--bg-secondary);opacity:.6}.conversation-item.archived .conversation-text{color:var(--text-muted);text-decoration:line-through}.conversation-item.archived:hover{opacity:.8}.message{display:flex;margin-bottom:32px;width:100%}.message.user{justify-content:flex-end}.message.assistant{justify-content:flex-start}.message-avatar{flex-shrink:0;margin-right:12px}.message.user .message-avatar{margin-left:12px;margin-right:0;order:2}.avatar{align-items:center;border-radius:50%;color:#fff;display:flex;font-size:14px;font-weight:600;height:32px;justify-content:center;width:32px}.user-avatar-chat{background:linear-gradient(135deg,#667eea,#764ba2)}.assistant-avatar{background:var(--accent-color)}.message-content{max-width:70%;position:relative}.message.user .message-content{background-color:var(--accent-color);border-radius:18px 18px 4px 18px;color:#fff;order:1;padding:12px 16px}.message.assistant .message-content{background-color:var(--bg-secondary);border-radius:18px 18px 18px 4px;padding:16px 20px}.message-text{font-size:16px;line-height:1.6;white-space:pre-wrap}.message.user .message-text{color:#fff}.message.assistant .message-text{color:var(--text-primary)}.message-time{color:var(--text-muted);font-size:12px;margin-top:8px;text-align:left}.message.user .message-time{color:#fffc;text-align:right}.typing-indicator{align-items:center;display:flex;gap:12px}.typing-dots{display:flex;gap:4px}.typing-dots span{animation:typing 1.4s ease-in-out infinite;background-color:var(--text-muted);border-radius:50%;height:8px;width:8px}.typing-dots span:first-child{animation-delay:-.32s}.typing-dots span:nth-child(2){animation-delay:-.16s}.typing-text{color:var(--text-muted);font-size:14px}.typing-cursor{animation:typing-cursor 1s infinite;color:var(--text-primary);font-weight:400}.scroll-to-bottom{align-items:center;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:50%;box-shadow:0 4px 12px #0000001a;color:var(--text-secondary);cursor:pointer;display:flex;height:40px;justify-content:center;left:50%;opacity:0;position:absolute;top:-60px;transform:translateX(-50%);transition:all .2s ease;visibility:hidden;width:40px;z-index:10}.scroll-to-bottom.visible{opacity:1;visibility:visible}.scroll-to-bottom:hover{background:var(--hover-color);box-shadow:0 6px 16px #00000026;color:var(--text-primary);transform:translateX(-50%) translateY(-2px)}.message-actions{display:flex;gap:4px;margin-top:4px;opacity:0;transition:opacity .2s ease}.message:hover .message-actions{opacity:1}.message.user:hover .message-actions{justify-content:flex-end}.message-meta{align-items:center;display:flex;justify-content:space-between;margin-top:8px}.message.user .message-meta{justify-content:flex-end}.message-text{position:relative}.edited-indicator{color:var(--text-muted);font-size:12px;font-style:italic;margin-left:8px}.reaction{align-items:center;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:50%;display:flex;font-size:12px;height:24px;justify-content:center;position:absolute;right:-8px;top:-8px;width:24px}.edit-container{width:100%}.edit-textarea{background:var(--input-bg);border:1px solid var(--border-color);border-radius:8px;color:var(--text-primary);font-family:inherit;font-size:16px;line-height:1.5;min-height:80px;padding:12px;resize:vertical;width:100%}.edit-textarea:focus{border-color:var(--accent-color);box-shadow:0 0 0 2px #19c37d33;outline:none}.edit-actions{display:flex;gap:8px;margin-top:12px}.edit-cancel,.edit-save{align-items:center;border:none;border-radius:6px;cursor:pointer;display:flex;font-size:14px;gap:6px;padding:8px 16px;transition:all .2s ease}.edit-save{background:var(--accent-color);color:#fff}.edit-save:hover{background:var(--accent-hover)}.edit-cancel{background:var(--bg-tertiary);border:1px solid var(--border-color);color:var(--text-secondary)}.edit-cancel:hover{background:var(--hover-color);color:var(--text-primary)}.message-focus{color:var(--accent-color);font-size:12px;font-weight:500}.skeleton-container{align-items:flex-start;display:flex;gap:12px;padding:16px 20px}.skeleton{animation:skeleton-loading 1.5s infinite;background:linear-gradient(90deg,var(--bg-tertiary) 25%,var(--hover-color) 50%,var(--bg-tertiary) 75%);background-size:200% 100%;border-radius:4px}.skeleton-avatar{border-radius:50%;flex-shrink:0;height:32px;width:32px}.skeleton-content{display:flex;flex:1 1;flex-direction:column;gap:8px}.skeleton-line{border-radius:4px;height:16px}.skeleton-line.long{width:100%}.skeleton-line.medium{width:80%}.skeleton-line.short{width:60%}.input-section{background-color:var(--bg-primary);padding:20px 24px 32px}.input-container{margin:0 auto;max-width:768px;position:relative}.input-wrapper{align-items:center;background-color:var(--input-bg);border:1.5px solid var(--border-color);border-radius:32px;box-shadow:0 2px 8px #0000000a;display:flex;gap:8px;padding:12px;position:relative;transition:all .2s ease}.input-wrapper:focus-within{border-color:var(--accent-color);box-shadow:0 2px 12px #19c37d26,0 0 0 1px var(--accent-color)}.message-input{background:#0000;border:none;color:var(--text-primary);flex:1 1;font-family:inherit;font-size:16px;line-height:1.5;max-height:200px;min-height:24px;outline:none;resize:none}.message-input::placeholder{color:var(--text-muted)}.message-input:disabled{background-color:var(--bg-secondary);cursor:not-allowed;opacity:.6}.input-footer{color:var(--text-muted);font-size:12px;margin-top:12px;text-align:center}.input-actions{align-items:center;display:flex;gap:8px;position:absolute;right:12px;top:50%;transform:translateY(-50%)}.voice-btn.recording{animation:recording-pulse 2s infinite;background:#ef4444;color:#fff}@keyframes recording-pulse{0%{box-shadow:0 0 0 0 #ef4444b3}70%{box-shadow:0 0 0 10px #ef444400}to{box-shadow:0 0 0 0 #ef444400}}.language-selector-container{align-items:center;display:flex;position:relative}.language-toggle{align-items:center;background:#0000;border:none;border-radius:8px;cursor:pointer;display:flex;font-size:16px;height:32px;justify-content:center;transition:all .2s ease;width:32px}.language-toggle:hover{background:var(--hover-color)}.language-selector{background:var(--bg-primary);border:1px solid var(--border-color);border-radius:12px;bottom:100%;box-shadow:0 8px 24px #00000026;margin-bottom:8px;max-height:300px;min-width:200px;overflow-y:auto;padding:8px 0;position:absolute;right:0;z-index:1000}.language-option{align-items:center;background:#0000;border:none;cursor:pointer;display:flex;gap:12px;padding:8px 16px;text-align:left;transition:background-color .2s ease;width:100%}.language-option:hover{background:var(--hover-color)}.language-option.active{background:var(--accent-color);color:#fff}.language-flag{flex-shrink:0;font-size:16px}.language-name{color:var(--text-primary);flex:1 1;font-size:14px}.language-option.active .language-name{color:#fff}.language-mode-toggle{background:var(--bg-secondary);border-radius:8px;display:flex;gap:2px;margin:8px 12px;padding:2px}.mode-toggle-btn{background:#0000;border:none;border-radius:6px;color:var(--text-muted);cursor:pointer;flex:1 1;font-size:12px;font-weight:500;padding:8px 12px;transition:all .2s ease}.mode-toggle-btn.active{background:var(--accent-color);color:#fff}.mode-toggle-btn:hover:not(.active){background:var(--hover-color);color:var(--text-primary)}.detected-language{align-items:center;background:var(--bg-secondary);border-left:3px solid var(--accent-color);border-radius:8px;display:flex;gap:8px;margin:0 8px 8px;padding:8px 16px}.detected-label{color:var(--text-muted);font-size:11px;font-weight:500;letter-spacing:.5px;text-transform:uppercase}.detected-flag{font-size:14px}.detected-name{color:var(--text-primary);font-size:12px;font-weight:500}.send-button{align-items:center;background-color:var(--accent-color);border:none;border-radius:50%;box-shadow:0 2px 4px #19c37d33;color:#fff;cursor:pointer;display:flex;height:36px;justify-content:center;transition:all .2s ease;width:36px}.send-button:hover:not(:disabled){background-color:var(--accent-hover);box-shadow:0 4px 8px #19c37d4d;transform:scale(1.05)}.send-button:disabled{background-color:var(--text-muted);box-shadow:none;cursor:not-allowed;transform:none}.stop-button{align-items:center;background-color:#ef4444;border:none;border-radius:50%;box-shadow:0 2px 4px #ef444433;color:#fff;cursor:pointer;display:flex;height:36px;justify-content:center;transition:all .2s ease;width:36px}.stop-button:hover:not(:disabled){background-color:#dc2626;box-shadow:0 4px 8px #ef44444d;transform:scale(1.05)}.stop-button:disabled{background-color:var(--text-muted);box-shadow:none;cursor:not-allowed;transform:none}.input-actions-left{flex-shrink:0;gap:4px}.file-btn,.input-actions-left{align-items:center;display:flex}.file-btn{background:#0000;border:none;border-radius:8px;color:var(--text-muted);cursor:pointer;height:32px;justify-content:center;transition:all .2s ease;width:32px}.file-btn:hover{background:var(--hover-color);color:var(--text-primary)}.input-actions-right{align-items:center;display:flex;flex-shrink:0;gap:4px}.voice-btn{align-items:center;background:#0000;border:none;border-radius:8px;color:var(--text-muted);cursor:pointer;display:flex;height:32px;justify-content:center;transition:all .2s ease;width:32px}.voice-btn:hover{background:var(--hover-color);color:var(--text-primary)}.voice-btn.active{background:var(--accent-color);color:#fff}.focus-search{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:12px;margin:24px 0;padding:20px}.focus-label{align-items:center;color:var(--text-primary);display:flex;font-size:14px;font-weight:500;gap:8px;margin-bottom:12px}.focus-options{grid-gap:8px;display:grid;gap:8px;grid-template-columns:repeat(auto-fit,minmax(120px,1fr))}.focus-option{align-items:center;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:8px;color:var(--text-secondary);cursor:pointer;display:flex;font-size:13px;gap:8px;padding:8px 12px;transition:all .2s ease}.focus-option:hover{background:var(--hover-color);color:var(--text-primary)}.focus-option.active{background:var(--accent-color);border-color:var(--accent-color);color:#fff}.quick-templates{margin:24px 0}.templates-header{align-items:center;color:var(--text-primary);display:flex;font-size:16px;font-weight:500;gap:8px;margin-bottom:16px}.templates-grid{grid-gap:12px;display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(140px,1fr))}.template-card{align-items:center;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:12px;color:var(--text-secondary);cursor:pointer;display:flex;flex-direction:column;gap:8px;padding:16px;text-align:center;transition:all .2s ease}.template-card:hover{background:var(--hover-color);border-color:var(--accent-color);color:var(--text-primary);transform:translateY(-2px)}.uploaded-files{background:var(--bg-secondary);border-radius:8px;flex-wrap:wrap;gap:8px;margin-bottom:12px;padding:12px}.uploaded-file,.uploaded-files{border:1px solid var(--border-color);display:flex}.uploaded-file{align-items:center;background:var(--bg-tertiary);border-radius:6px;color:var(--text-secondary);font-size:13px;gap:6px;padding:6px 10px}.remove-file{background:none;border:none;border-radius:4px;color:var(--text-muted);cursor:pointer;padding:2px;transition:all .2s ease}.remove-file:hover{background:var(--hover-color);color:var(--text-primary)}.message-files{display:flex;flex-wrap:wrap;gap:8px;margin-top:12px}.file-attachment{align-items:center;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:8px;color:var(--text-secondary);display:flex;font-size:13px;gap:6px;padding:8px 12px}.file-size{color:var(--text-muted);font-size:12px}.input-wrapper.loading{opacity:.7;pointer-events:none}.modal-overlay{align-items:center;animation:modal-fade-in .2s ease-out;background:#00000080;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1000}.modal-content{animation:modal-scale-in .2s ease-out;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:12px;max-height:80vh;max-width:500px;overflow-y:auto;width:90%}.modal-header{align-items:center;border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;padding:20px 24px}.modal-header h2{color:var(--text-primary);font-size:18px;font-weight:600}.modal-close{background:none;border:none;border-radius:6px;color:var(--text-muted);cursor:pointer;padding:8px;transition:all .2s ease}.modal-close:hover{background:var(--hover-color);color:var(--text-primary)}.shortcuts-list{padding:20px 24px}.shortcut-item{align-items:center;border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;padding:12px 0}.shortcut-item:last-child{border-bottom:none}.keyboard-key{background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:6px;color:var(--text-secondary);font-family:monospace;font-size:12px;padding:4px 8px}.archived-modal{max-height:80vh;max-width:700px;width:95%}.archived-modal-content{max-height:60vh;overflow-y:auto;padding:20px 24px}.empty-state{color:var(--text-muted);padding:40px 20px;text-align:center}.empty-icon{height:48px;margin:0 auto 16px;opacity:.5;width:48px}.empty-state p{color:var(--text-secondary);font-size:16px;font-weight:500;margin-bottom:8px}.empty-state span{color:var(--text-muted);font-size:14px}.archived-table{width:100%}.archived-table-header{grid-gap:16px;border-bottom:1px solid var(--border-color);color:var(--text-secondary);display:grid;font-size:14px;font-weight:600;gap:16px;grid-template-columns:1fr auto 80px;padding:12px 16px}.archived-table-body{max-height:400px;overflow-y:auto}.archived-table-row{grid-gap:16px;border-bottom:1px solid var(--border-color);display:grid;gap:16px;grid-template-columns:1fr auto 80px;padding:16px;transition:background-color .2s ease}.archived-table-row:hover{background:var(--hover-color)}.archived-table-row:last-child{border-bottom:none}.archived-table-col-name{min-width:0}.archived-table-col-date{color:var(--text-muted);font-size:14px;white-space:nowrap}.archived-table-col-actions{display:flex;gap:8px;justify-content:flex-end}.archived-chat-name{background:none;border:none;color:var(--accent-color);cursor:pointer;font-size:14px;font-weight:500;overflow:hidden;padding:0;text-align:left;text-decoration:none;text-overflow:ellipsis;transition:color .2s ease;white-space:nowrap;width:100%}.archived-chat-name:hover{color:var(--accent-hover);text-decoration:underline}.archived-icon-btn{align-items:center;background:none;border:none;border-radius:4px;color:var(--text-muted);cursor:pointer;display:flex;justify-content:center;padding:6px;transition:all .2s ease}.archived-icon-btn:hover{background:var(--hover-color);color:var(--text-primary)}.archived-icon-btn.danger{color:#ef4444}.archived-icon-btn.danger:hover{background:#ef44441a;color:#ef4444}.auth-modal{background:var(--bg-primary);border:1px solid var(--border-color);border-radius:16px;box-shadow:0 20px 40px #00000026;max-width:480px;padding:32px;width:100%}.auth-header{margin-bottom:32px;padding-top:0;position:relative;text-align:center}.auth-header h2{color:var(--text-primary);font-size:28px;font-weight:700;letter-spacing:-.02em;margin-bottom:8px}.auth-header .modal-close{position:absolute;right:-8px;top:-8px}.auth-form{gap:24px}.auth-form,.input-group{display:flex;flex-direction:column}.input-group{gap:8px}.input-group label{color:var(--text-primary);font-size:14px;font-weight:600;margin-bottom:4px}.input-group input{background:var(--input-bg);border:1.5px solid var(--border-color);border-radius:12px;color:var(--text-primary);font-family:inherit;font-size:16px;padding:16px 20px;transition:all .2s ease}.input-group input:focus{background:var(--bg-primary);border-color:var(--accent-color);box-shadow:0 0 0 3px #19c37d1a;outline:none}.password-input{position:relative}.password-toggle{background:none;border:none;border-radius:8px;color:var(--text-muted);cursor:pointer;padding:8px;position:absolute;right:16px;top:50%;transform:translateY(-50%);transition:all .2s ease}.password-toggle:hover{background:var(--hover-color);color:var(--text-primary)}.auth-submit{align-items:center;background:var(--accent-color);border:none;border-radius:12px;box-shadow:0 2px 8px #19c37d33;color:#fff;cursor:pointer;display:flex;font-size:16px;font-weight:600;gap:8px;justify-content:center;margin-top:8px;padding:16px 24px;transition:all .2s ease}.auth-submit:hover{background:var(--accent-hover);box-shadow:0 4px 12px #19c37d4d;transform:translateY(-1px)}.auth-switch{color:var(--text-secondary);font-size:14px;margin-top:24px;padding-bottom:8px;text-align:center}.auth-link{background:none;border:none;color:var(--accent-color);cursor:pointer;font-weight:600;margin-left:4px;text-decoration:none;transition:color .2s ease}.auth-link:hover{color:var(--accent-hover);text-decoration:underline}.file-upload-modal{max-width:500px}.file-upload-area{background:var(--bg-tertiary);border:2px dashed var(--border-color);border-radius:12px;cursor:pointer;padding:40px 20px;text-align:center;transition:all .2s ease}.file-upload-area.dragging,.file-upload-area:hover{background:var(--hover-color);border-color:var(--accent-color)}.file-upload-area .icon{color:var(--text-muted);margin-bottom:16px}.upload-text{display:flex;flex-direction:column;gap:4px}.upload-primary{color:var(--text-primary);font-size:16px;font-weight:500}.upload-secondary{color:var(--text-muted);font-size:14px}.file-upload-area.dragging{animation:pulse 1s infinite}.toast{align-items:center;animation:toast-slide-in .3s ease-out;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:8px;box-shadow:var(--shadow);color:var(--text-primary);display:flex;gap:12px;max-width:300px;padding:12px 16px;position:fixed;right:20px;top:20px;z-index:1000}.toast-success{border-left:4px solid var(--accent-color)}.toast-error{border-left:4px solid #ef4444}.toast-close{background:none;border:none;border-radius:4px;color:var(--text-muted);cursor:pointer;padding:4px;transition:all .2s ease}.toast-close:hover{background:var(--hover-color);color:var(--text-primary)}.action-btn:focus,.header-btn:focus,.new-chat-btn:focus,.shortcuts-btn:focus,.theme-toggle:focus{outline:2px solid var(--accent-color);outline-offset:2px}.conversation-item:focus{outline:2px solid var(--accent-color);outline-offset:-2px}.auth-submit:focus,.file-btn:focus,.focus-option:focus,.signin-btn:focus,.template-card:focus,.voice-btn:focus{outline:2px solid var(--accent-color);outline-offset:2px}@media (hover:none) and (pointer:coarse){.conversation-item:hover{background:none}.suggestion-card:hover{background:var(--bg-secondary);transform:none}.action-btn:hover{background:var(--bg-tertiary);transform:none}.conversation-item{min-height:52px}.action-btn{height:36px;width:36px}.send-button{height:40px;width:40px}}@media print{.chat-header,.focus-search,.input-section,.quick-templates,.sidebar{display:none!important}.main-content{width:100%!important}.message-actions,.uploaded-files{display:none!important}}@keyframes spin{to{transform:rotate(1turn)}}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}@keyframes typing{0%,80%,to{opacity:.5;transform:scale(.8)}40%{opacity:1;transform:scale(1)}}@keyframes typing-cursor{0%,50%{opacity:1}51%,to{opacity:0}}@keyframes dropdown-fade-in{0%{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}@keyframes modal-fade-in{0%{opacity:0}to{opacity:1}}@keyframes modal-scale-in{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@keyframes toast-slide-in{0%{opacity:0;transform:translateX(100%)}to{opacity:1;transform:translateX(0)}}@keyframes skeleton-loading{0%{background-position:-200% 0}to{background-position:200% 0}}.message{animation:message-fade-in .3s ease-out}@keyframes message-fade-in{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.conversation-item{animation:conversation-fade-in .2s ease-out}@keyframes conversation-fade-in{0%{opacity:0;transform:translateX(-10px)}to{opacity:1;transform:translateX(0)}}@keyframes message-slide-in{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width:768px){.sidebar{height:100vh;position:fixed;transform:translateX(-100%);transition:transform .3s ease;width:100%;z-index:1001}.sidebar.open{transform:translateX(0)}.sidebar.collapsed,.sidebar.hidden{transform:translateX(-100%)}.main-content,.main-content.sidebar-hidden{margin-left:0}.welcome-screen{padding:60px 16px 16px}.welcome-title{font-size:24px}.chat-messages,.input-section{padding:16px}.suggestion-cards{grid-template-columns:1fr}.chat-header{padding:12px 16px}}@media (min-width:481px) and (max-width:768px){.sidebar{height:100%;left:0;position:fixed;top:0;transform:translateX(-100%);transition:transform .3s ease;width:280px;z-index:100}.sidebar.open{transform:translateX(0)}.main-content{transition:margin-left .3s ease;width:100%}.main-content.sidebar-open{margin-left:280px}.chat-header{height:70px;padding:16px 20px}.chat-messages,.input-section{padding:20px}.message-content{max-width:85%}.suggestion-cards{gap:16px;grid-template-columns:1fr 1fr}}@media (min-width:769px) and (max-width:1024px){.sidebar{width:260px}.main-content{width:calc(100% - 260px)}.chat-messages{padding:24px}.message-content{max-width:80%}.suggestion-cards{gap:16px;grid-template-columns:repeat(2,1fr)}}@media (max-width:480px){.app-container{height:100vh;height:100dvh}.sidebar{-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border-radius:0;height:100%;height:100dvh;left:0;position:fixed;top:0;transform:translateX(-100%);transition:transform .3s cubic-bezier(.4,0,.2,1);width:100%;z-index:1000}.sidebar.open{box-shadow:0 0 20px #0000004d;transform:translateX(0)}.sidebar.collapsed{transform:translateX(-100%)}.chat-header{background:var(--bg-primary);border-bottom:1px solid var(--border-color);height:60px;justify-content:space-between;padding:12px 16px;position:-webkit-sticky;position:sticky;top:0;z-index:100}.chat-header,.sidebar-toggle{align-items:center;display:flex}.sidebar-toggle{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:12px;height:40px;justify-content:center;transition:all .2s ease;width:40px}.sidebar-toggle:hover{background:var(--bg-tertiary);transform:scale(1.05)}.chat-title{color:var(--text-primary);flex:1 1;font-size:16px;font-weight:600;margin:0 16px;overflow:hidden;text-align:center;text-overflow:ellipsis;white-space:nowrap}.main-content{padding-top:0;width:100%}.chat-container{display:flex;flex-direction:column;height:calc(100vh - 60px);height:calc(100dvh - 60px)}.chat-messages{-webkit-overflow-scrolling:touch;flex:1 1;overflow-y:auto;padding:16px 12px}.welcome-screen{display:flex;flex-direction:column;height:100%;justify-content:center;padding:40px 20px 20px;text-align:center}.welcome-title{font-size:28px;font-weight:700;line-height:1.2;margin-bottom:12px}.welcome-subtitle{color:var(--text-secondary);font-size:16px;line-height:1.4;margin-bottom:32px}.suggestion-cards{grid-gap:8px;display:grid;gap:8px;grid-template-columns:1fr 1fr;margin-bottom:24px;padding:0 4px}.suggestion-card{align-items:center;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:12px;cursor:pointer;display:flex;font-size:13px;height:48px;justify-content:center;line-height:1.2;overflow:hidden;padding:12px 14px;text-align:center;transition:all .2s ease;word-break:break-word}.suggestion-card:active{background:var(--bg-tertiary);transform:scale(.98)}.message{animation:message-slide-in .3s ease-out;display:flex;flex-direction:column;margin-bottom:20px}.message.user{align-items:flex-end}.message.assistant{align-items:flex-start}.message-content{max-width:90%;min-width:120px}.message.user .message-content{background:var(--accent-color);border-radius:20px 20px 6px 20px;color:#fff;margin-left:40px;padding:12px 16px}.message.assistant .message-content{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:20px 20px 20px 6px;margin-right:40px;padding:12px 16px}.message-text{word-wrap:break-word;font-size:15px;line-height:1.5}.message-time{color:var(--text-muted);font-size:12px;margin-bottom:0;margin-top:4px}.message.user .message-time{margin-right:16px;text-align:right}.message.assistant .message-time{margin-left:16px;text-align:left}.input-section{background:var(--bg-primary);border-top:1px solid var(--border-color);bottom:0;padding:16px 12px 20px;position:-webkit-sticky;position:sticky}.input-container{margin:0;max-width:none}.input-wrapper{align-items:flex-end;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:24px;display:flex;min-height:48px;padding:8px 12px;position:relative;transition:all .2s ease}.input-wrapper:focus-within{border-color:var(--accent-color);box-shadow:0 0 0 2px #19c37d1a}.message-input{background:none;border:none;color:var(--text-primary);flex:1 1;font-size:16px;line-height:1.5;max-height:120px;min-height:24px;outline:none;padding:8px 0;resize:none}.message-input::placeholder{color:var(--text-muted);font-size:16px}.input-actions{gap:8px;margin-left:8px}.input-actions,.send-button{align-items:center;display:flex}.send-button{background:var(--accent-color);border:none;border-radius:18px;color:#fff;cursor:pointer;flex-shrink:0;height:36px;justify-content:center;transition:all .2s ease;width:36px}.send-button:hover:not(:disabled){background:var(--accent-hover);transform:scale(1.05)}.send-button:disabled{background:var(--text-muted);cursor:not-allowed;transform:none}.send-button:active{transform:scale(.95)}.file-btn,.voice-btn{align-items:center;background:#0000;border:none;border-radius:18px;color:var(--text-secondary);cursor:pointer;display:flex;height:36px;justify-content:center;transition:all .2s ease;width:36px}.file-btn:hover,.voice-btn:hover{background:var(--hover-color);color:var(--text-primary)}.voice-btn.active{background:var(--accent-color);color:#fff}.sidebar-header{border-bottom:1px solid var(--border-color);padding:20px 16px 16px}.new-chat-btn{align-items:center;background:var(--accent-color);border:none;border-radius:12px;color:#fff;cursor:pointer;display:flex;font-size:15px;font-weight:600;gap:8px;height:48px;justify-content:center;transition:all .2s ease;width:100%}.new-chat-btn:hover{background:var(--accent-hover);transform:translateY(-1px)}.new-chat-btn:active{transform:translateY(0)}.conversation-list{-webkit-overflow-scrolling:touch;height:calc(100% - 140px);overflow-y:auto;padding:8px 12px}.conversation-item{align-items:center;border-radius:12px;cursor:pointer;display:flex;font-size:15px;line-height:1.4;margin-bottom:4px;min-height:48px;padding:14px 16px;position:relative;transition:all .2s ease}.conversation-item:active{background:var(--bg-tertiary);transform:scale(.98)}.conversation-item.active{background:var(--bg-tertiary);border:1px solid var(--accent-color)}.modal-content{border-radius:16px;margin:40px 16px;max-height:calc(100vh - 80px);max-height:calc(100dvh - 80px);width:calc(100% - 32px)}.auth-modal{border-radius:16px;padding:24px}.auth-header h2{font-size:24px;margin-bottom:8px}.input-group{margin-bottom:20px}.input-group input{padding:0 16px}.auth-submit,.input-group input{border-radius:12px;font-size:16px;height:48px}.auth-submit{font-weight:600}.focus-search{background:var(--bg-secondary);border-radius:12px;margin-bottom:16px;padding:12px 16px}.focus-options{-webkit-overflow-scrolling:touch;display:flex;gap:8px;overflow-x:auto;padding:4px 0}.focus-option{align-items:center;border-radius:20px;display:flex;flex-shrink:0;font-size:14px;gap:6px;height:36px;padding:8px 16px}.templates-grid{display:flex;flex-direction:column;gap:12px}.template-card{align-items:center;border-radius:12px;display:flex;min-height:60px;padding:16px}.scroll-to-bottom{border-radius:22px;bottom:100px;box-shadow:0 4px 12px #00000026;height:44px;right:20px;width:44px}.message-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:8px;opacity:1}.message.assistant .message-actions{justify-content:flex-start}.action-btn{align-items:center;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:16px;color:var(--text-secondary);cursor:pointer;display:flex;height:32px;justify-content:center;transition:all .2s ease;width:32px}.action-btn:active{transform:scale(.9)}.toast{border-radius:12px;left:16px;max-width:none;right:16px;top:16px}.file-upload-area{border-radius:16px;margin:16px 0;padding:32px 20px}.uploaded-files{gap:8px}.uploaded-file{border-radius:12px;font-size:14px;padding:12px 16px}}@media (max-width:380px){.suggestion-cards{gap:6px;grid-template-columns:1fr 1fr;padding:0 2px}.suggestion-card{font-size:12px;height:44px;padding:10px 8px}.welcome-screen{padding:30px 16px 20px}.chat-messages{padding:12px 8px}.input-section{padding:12px 8px 16px}}@supports (padding-top:env(safe-area-inset-top)){.chat-header{padding-top:calc(12px + env(safe-area-inset-top))}.sidebar{padding-top:env(safe-area-inset-top)}.input-section{padding-bottom:calc(20px + env(safe-area-inset-bottom))}}@media (max-width:768px){.modal-content{margin:20px;width:95%}.toast{left:10px;max-width:none;right:10px}.search-wrapper{margin-bottom:8px}.message-actions{opacity:1}.message-content{max-width:85%}.scroll-to-bottom{left:50%;transform:translateX(-50%)}.send-button,.voice-btn{height:36px;width:36px}}