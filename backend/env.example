# ============================================================================
# NovaTech AI Onboarding Assistant - Backend Configuration
# ============================================================================
# Copy this file to .env and fill in your values
# cp env.example .env
# ============================================================================

# ============================================================================
# Server Configuration
# ============================================================================
PORT=8000
NODE_ENV=development

# ============================================================================
# Supabase Configuration (Database & Auth)
# ============================================================================
# Get these from: https://supabase.com/dashboard/project/_/settings/api

# Project URL (e.g., https://xxxx.supabase.co)
SUPABASE_URL=your_supabase_url_here

# Anon/Public Key (safe for frontend)
SUPABASE_ANON_KEY=your_supabase_anon_key_here

# Service Role Key (KEEP SECRET! Bypasses RLS - only for admin operations)
# Used for: loading knowledge base, admin operations
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here

# JWT Secret for verifying Supabase Auth tokens
# Get from: Settings > API > JWT Secret (under "JWT Settings")
SUPABASE_JWT_SECRET=your_supabase_jwt_secret_here

# ============================================================================
# AI Services Configuration
# ============================================================================

# Google Gemini AI (for chat responses & agent)
# Get free API key from: https://makersuite.google.com/app/apikey
# Model used: gemini-2.5-flash
GEMINI_API_KEY=your_gemini_api_key_here

# Hugging Face (for embeddings - 100% FREE, no quotas!)
# Get free token from: https://huggingface.co/settings/tokens
# Model used: BAAI/bge-small-en-v1.5 (384 dimensions)
HUGGINGFACE_API_KEY=your_huggingface_api_key_here

# ============================================================================
# Google OAuth 2.0 (for Calendar & Gmail integration)
# ============================================================================
# Create credentials at: Google Cloud Console > APIs & Services > Credentials
# 1. Create OAuth 2.0 Client ID (Web application)
# 2. Enable Google Calendar API and Gmail API
# 3. Add authorized redirect URI (must match GOOGLE_REDIRECT_URI below)

GOOGLE_CLIENT_ID=your_google_client_id_here
GOOGLE_CLIENT_SECRET=your_google_client_secret_here

# IMPORTANT: This must match EXACTLY what you set in Google Cloud Console
# Authorized redirect URI: http://localhost:8000/api/google-auth/callback
GOOGLE_REDIRECT_URI=http://localhost:8000/api/google-auth/callback

# ============================================================================
# Security Configuration
# ============================================================================

# CORS: Frontend URL(s) allowed to access the API
# Production: https://your-domain.com
# Development: http://localhost:3000
FRONTEND_URL=http://localhost:3000

# ============================================================================
# Optional: Rate Limiting (defaults shown)
# ============================================================================
# General rate limit (requests per window)
# RATE_LIMIT_WINDOW_MS=900000
# RATE_LIMIT_MAX_REQUESTS=100

# Auth endpoints (stricter)
# AUTH_RATE_LIMIT_MAX=10

# ============================================================================
# Optional: Request Limits (defaults shown)
# ============================================================================
# BODY_LIMIT=1mb
# MAX_MESSAGE_LENGTH=10000
# MAX_FILES_PER_MESSAGE=5

# ============================================================================
# Security Notes
# ============================================================================
# 1. NEVER commit this file with real values to version control
# 2. Use different values for dev/staging/production
# 3. Rotate secrets regularly (every 90 days recommended)
# 4. If JWT secret is compromised, regenerate in Supabase and update here
# 5. In production, use a secret manager (AWS Secrets Manager, etc.)
# ============================================================================
